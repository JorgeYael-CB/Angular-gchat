<div class="px-4 py-8">
  <h2 class="text-center my-8 text-3xl text-white font-bold">Join a new server</h2>

  <!-- Random server card -->
  <div class="my-6 p-6 bg-gray-800 rounded-lg shadow-md hover:bg-gray-700 transition-colors duration-300">
    <h4 class="text-lg font-medium text-white mb-4">Join random server</h4>
    <button
      [disabled]="isLoading"
      (click)="joinRandomServer()"
      class="w-full disabled:opacity-40 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-500 transition-colors duration-300">
      Join
    </button>
  </div>

  @if (joinServerError) {
    <p class="w-full bg-red-500 text-white py-1 rounded-md text-center px-2">Error: {{joinServerError}}</p>
  }

  <!-- Join by ID form -->
  <div class="my-6 p-6 bg-gray-800 rounded-lg shadow-md hover:bg-gray-700 transition-colors duration-300">
    <h4 class="text-lg font-medium text-white mb-4">Join server by ID</h4>

    <form
      [formGroup]="form"
      (submit)="onSubmit()" class="flex flex-row gap-2 items-center">
      <mat-form-field class="w-full">
        <mat-label>Server id</mat-label>
        <input (blur)="updateErrors()" [formControl]="form.controls.serverId" matInput>
        <mat-error>{{error()}}</mat-error>
      </mat-form-field>

      <button
        [disabled]="form.invalid || isLoading"
        type="submit" class="text-white transition-opacity disabled:opacity-40"
      >
        <mat-icon class="w-12" fontIcon="search"></mat-icon>
      </button>
    </form>
  </div>
</div>
